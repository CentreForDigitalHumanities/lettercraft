<lc-breadcrumb [breadcrumbs]="(breadcrumbs$ | async) ?? []" />

<ng-container *ngIf="isEditMode$ | async; else newEpisodeTitle">
    <ng-container *ngIf="episode$ | async as episode; else loading">
        <h1 class="mb-4">
            <lc-icon [icon]="dataIcons.episode" />
            <span>{{ episode.name }}</span>
            <span class="text-body-secondary"> ({{ episode.source.name }}) </span>
        </h1>
        <p class="lead mb-4" *ngIf="episode.description">
            {{ episode.description}}
        </p>
    </ng-container>
</ng-container>
<ng-template #newEpisodeTitle>
    <h1 class="mb-4">
        <lc-icon [icon]="dataIcons.episode" />
        New episode
    </h1>
</ng-template>

<h2 class="subform-header">Identification</h2>
<lc-episode-identification-form />

<h2 class="subform-header">Source text</h2>
<lc-episode-source-text-form />

<h2 class="subform-header">Contents</h2>
<lc-episode-contents-form />

<h2 class="subform-header">Agents</h2>
<lc-episode-agents-form />

<h2 class="subform-header">Locations</h2>
<lc-episode-locations-form />

<h2 class="subform-header">Objects</h2>
<lc-episode-objects-form />

<ng-template #loading>
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</ng-template>
